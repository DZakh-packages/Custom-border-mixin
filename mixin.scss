// This doesn't work with multiple borders
@mixin border-bottom-dotted($size: 1px, $gap: 5px, $color: inherit) {
  @include border-dotted((bottom, $size, $gap, $color));
}


@mixin dotted-border($parameters...) {
  $background-image-list: ();
  $background-position-list: ();
  $background-size-list: ();
  $background-repeat-list: ();

  @each $side, $size, $gap, $color in $parameters {
    $section: $size + $gap;
    $gradient:  $color, $color ($size / $section * 100%), transparent ($size / $section * 100%);

    @if $side == 'top' or $side == 'bottom' {
      $background-repeat-list: append($background-repeat-list, (repeat-x), 'comma');
      $background-size-list: append($background-size-list, ($section $size), 'comma');
      @if $side == 'top' {
        $background-position-list: append($background-position-list, (100% 0), 'comma');
        $background-image-list: append($background-image-list, (linear-gradient(to left, $gradient)), 'comma');
      } @else {
        $background-position-list: append($background-position-list, (0 100%), 'comma');
        $background-image-list: append($background-image-list, (linear-gradient(to right, $gradient)), 'comma');
      }
    } @else {
      $background-repeat-list: append($background-repeat-list, (repeat-y), 'comma');
      $background-size-list: append($background-size-list, ($size $section), 'comma');
      @if $side == 'right' {
        $background-position-list: append($background-position-list, (100% 100%), 'comma');
        $background-image-list: append($background-image-list, (linear-gradient(to top, $gradient)), 'comma');
      } @else {
        $background-position-list: append($background-position-list, (0 0), 'comma');
        $background-image-list: append($background-image-list, (linear-gradient(to bottom, $gradient)), 'comma');
      }
    }
  }

  background: $background-image-list;
  background-size: $background-size-list;
  background-position: $background-position-list;
  background-repeat: $background-repeat-list;
}
